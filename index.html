<script>
// Enregistrement du Service Worker
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js')
    .then(() => console.log("Service Worker enregistré"))
    .catch(err => console.log("Erreur Service Worker :", err));
}

// Fonction de commande WhatsApp
function contactWhatsApp(produit) {
  const numero = "243979293776"; // ton numéro
  const message = encodeURIComponent("Bonjour BellaNatureLuxe, je souhaite commander " + produit);

  // Essaie d'ouvrir dans WhatsApp si dispo, sinon navigateur
  const waUrl = "https://wa.me/" + numero + "?text=" + message;
  window.location.href = waUrl; // force ouverture dans app si possible
}

// Fonction de partage social
function shareSocial() {
  if (navigator.share) {
    // Mobile et navigateurs modernes
    navigator.share({
      title: 'BellaNatureLuxe',
      text: 'Découvrez mes programmes Glow Up et produits naturels !',
      url: window.location.href
    })
    .then(() => console.log('Partage réussi'))
    .catch(err => console.log('Erreur partage :', err));
  } else if (navigator.clipboard) {
    // Copier le lien pour PC / anciens navigateurs
    navigator.clipboard.writeText(window.location.href)
      .then(() => alert('Lien copié ! Partagez BellaNatureLuxe avec vos proches.'))
      .catch(() => alert('Impossible de copier le lien. Copiez manuellement : ' + window.location.href));
  } else {
    // Dernier recours
    alert('Partage non supporté. Copiez le lien manuellement : ' + window.location.href);
  }
}
</script>
